<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
	<title>CORNER_LOGO</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Jura:400,700&amp;subset=cyrillic,cyrillic-ext" rel="stylesheet">
    <style>
	body {
	margin:0;padding:0;
    background-color:#000;
	font-family: "Jura", sans-serif;
	font-weight: bold;
    color: #fff;
	font-size: 30px;
	text-align: center;
}
canvas{
	border: 3px solid #fff;
	border-radius: 50%;
}
i{
	font-size: 30px;
}
p{
	margin: 0;
	padding: 0;
}
.main{
	display: flex;
	flex-direction: row;
	justify-content: space-around;
	align-items: center;
}
.hourly{
	display: flex;
	flex-direction: column;
	justify-content: space-around;	
	align-items: center;
	font-size: 20px;
}
.hourly div{
	display: flex;
	flex-direction: row;
	justify-content: space-around;
	width: 96%;
}
.hourly div > div{
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: center;	
	/* align-items: flex-start; */
	font-size: 15px;
	/* height: 100px; */
	width: 100%;
	/* padding: 0 1px; */
	height: 400px;
	background-color: blueviolet;
	border-radius: 10px;
	overflow: hidden;
	margin: 2px;
	

}
.hourly div > div > div:nth-last-child(1){
	/* height: 200px; */
	background-color: darkred;
	border-radius: 10px;
	/* width: 90%; */
	
	display: flex;
	justify-content: space-around;
	align-items: center;
	margin-bottom: 0px;
}


.hourly div  > canvas{
	width: 48px;
	height: 48px;
}
.hourly > div > div > span{
	font-size: 22px;
}
.hourly > div > div > div > span > b{
	font-size: 28px;

}
#lvivsumdaily{
	font-size: 50px;
	width: 80%;
}

.daily .row1{
	display: flex;
	justify-content: space-around;
	align-items: center;
	font-size: 30px;
	border: 1px solid #fff;
}
.daily .row2{
	display: flex;
	justify-content: space-around;
	align-items: center;
	font-size: 30px;
	border: 1px solid #fff;
}
.daily .row2 div{
	display: flex;
	justify-content: space-around;
	flex-direction: column;
	align-items: center;
	font-size: 30px;
	/* border: 1px solid #fff; */
}




  
	</style>
	</head>
	
	<body>
		<script type="text/javascript" charset="utf-8" src="moment-with-locales.js"></script>

		<script type="text/javascript" charset="utf-8" src="jquery-2.1.4.min.js"></script>

	<script type="text/javascript" charset="utf-8" src="skycons.js"></script>

	
	
	<div class="main">
	<span id="lvivcity" >xxx</span>
	<span id="lvivtime" >dasdasdasd</span>
	<canvas id="lvivicon" width="128" height="128">xxx</canvas>
	<span id="lvivtemp" >xxx</span>
	<span id="lvivtempapp" >xxx</span>
	</div>
	<div class="main">
	<canvas id="lvivsumicon" width="128" height="128">xxx</canvas>
	<span id="lvivsum">xxx</span>
</div>
<p id="lvivsumhr" >xxx</p>
<div class="hourly">
	<div>
	<p id="lvivsumhr1" ></p></div>
	<div>
	<p id="lvivsumhr2" ></p></div>
	<!-- <div id="lvivsumhrdata" ></div> -->
</div>


<div class="main">
	<span id="lvivsumdaily" >xxx</span>
	</div>

	<div class="daily">
			<p id="lvivsumdailydown" ></p>
	</div>
	

		<script type="text/javascript">
		
		
//////////////////////////////////LVIV
$(document).ready(function(){


function weather_get()
{
	 $(function(gettemp) {
		var apiKey = "7d7fb208bc708b6bd2657291246a83e6";
		var url = "https://api.darksky.net/forecast/";
		var lati = 50.9492;
		var longi = 30.2034;
		var data;
		moment.locale('uk');
$.getJSON(url + apiKey + "/" + lati + "," + longi + "?units=uk&lang=uk&callback=?", function(data) {
		  var lvivicon = data.currently.icon;
		  lvivsumicon = data.hourly.icon;
		console.log(data.currently);

		  var x=24;
		  for(i=24;i>0;i--){
			  x--;
		var time = moment.unix(data.hourly.data[i].time).format('H:mm');
		var sum = data.hourly.data[i].summary;
		var temp = data.hourly.data[i].temperature.toFixed(1) ;
		var sumicon = data.hourly.data[i].icon;
		console.log(data.hourly.data[i]);


			$("#lvivsumhr1").after(
				'<div>'+
				'<span>' + time + '</span>' + 
					'<div>'+
						'<p>'+'wind:'+'</p>'+
						'<i class="fas fa-long-arrow-alt-up" style="transform: rotate('+ data.hourly.data[i].windBearing + 'deg)"></i>' +
						'<span><b>' + data.hourly.data[i].windSpeed.toFixed(1)+ '</b><br>' + 'M/s' + '</span>' +
					'</div>'+
					'<canvas width="48" height="48" id="sumicon'+x+'">' +'xxx' + '</canvas>' +

					// '<div>'+
					'<p>'+'temp:'+'</p>'+
					'<span>'+ temp + "&deg;C" + '</span>'+
					// '</div>'+
					'<div style="height:' + temp*20 + 'px;' +'">' +
					
					'</div>' +

				'</div>'
				);
				
			var skycons = new Skycons({"color": "white"});
		  	skycons.add("sumicon"+x, sumicon);
		  	skycons.play();
				  }


			x=48;
		  for(i=48;i>24;i--){
			  x--;
		var time = moment.unix(data.hourly.data[i].time).format('H:mm');
		var sum = data.hourly.data[i].summary;
		var temp = data.hourly.data[i].temperature.toFixed(1) ;
		var sumicon = data.hourly.data[i].icon;
		console.log(data.hourly.data[i]);


			$("#lvivsumhr2").after(
				'<div>'+
				'<span>' + time + '</span>' + 
					'<div>'+
						'<p>'+'wind:'+'</p>'+
						'<i class="fas fa-long-arrow-alt-up" style="transform: rotate('+ data.hourly.data[i].windBearing + 'deg)"></i>' +
						'<span><b>' + data.hourly.data[i].windSpeed.toFixed(1)+ '</b><br>' + 'M/s' + '</span>' +
					'</div>'+
					'<canvas width="48" height="48" id="sumicon'+x+'">' +'xxx' + '</canvas>' +

					// '<div>'+
					'<p>'+'temp:'+'</p>'+
					'<span>'+ temp + "&deg;C" + '</span>'+
					// '</div>'+
					'<div style="height:' + temp*20 + 'px;' +'">' +
					
					'</div>' +

				'</div>'
				);
				
			var skycons = new Skycons({"color": "white"});
		  	skycons.add("sumicon"+x, sumicon);
		  	skycons.play();
				  }	


		  var y = 7;
			for(i=7;i>-1;i--){
				y--;
				var dailytime = moment.unix(data.daily.data[i].time).format('MMMM Do YYYY');
				var dailysum = data.daily.data[i].summary;
				var daysumicon = data.daily.data[i].icon;
				
				var daymoonPhase = data.daily.data[i].moonPhase;
				var daycloudCover = (data.daily.data[i].cloudCover * 100).toFixed(0) + "%";
				var dayhumidity = (data.daily.data[i].humidity * 100).toFixed(0) + "%";
				var daydewPoint = data.daily.data[i].dewPoint;
				var dayozone = data.daily.data[i].ozone;
				var daypressure = data.daily.data[i].pressure + " hPa";
				var dayvisibility = data.daily.data[i].visibility + " km";
				var dayuvIndex = data.daily.data[i].uvIndex;
				var dayuvIndexTime = moment.unix(data.daily.data[i].uvIndexTime).format('HH:mm')
				var dayprecipProbability = (data.daily.data[i].precipProbability * 100).toFixed(0) + "%";
				var dayprecipIntensityMaxTime = moment.unix(data.daily.data[i].precipIntensityMaxTime).format('HH:mm:ss')
				var dayprecipType = data.daily.data[i].precipType;
				// if(dayprecipProbability < 5){
				// 	$(".precip").css("color", "#000");
				// } else {
				// 	$(".precip").css("color", "#fff");
				// }
				
				var dailytemperatureHigh = data.daily.data[i].temperatureHigh.toFixed(1) + "&deg;C";
				var dailytemperatureLow = data.daily.data[i].temperatureLow.toFixed(1) + "&deg;C";
				var dailytemperatureHighTime = moment.unix(data.daily.data[i].temperatureHighTime).format('HH:mm');
				var dailytemperatureLowTime = moment.unix(data.daily.data[i].temperatureLowTime).format('HH:mm');

				// var dailytemperatureMax = data.daily.data[i].temperatureHigh.toFixed(1) + "&deg;C";
				// var dailytemperatureMin = data.daily.data[i].temperatureLow.toFixed(1) + "&deg;C";
				// var dailytemperatureMaxTime = moment.unix(data.daily.data[i].temperatureHighTime).format('HH:mm');
				// var dailytemperatureMinTime = moment.unix(data.daily.data[i].temperatureLowTime).format('HH:mm');

				var dailyapparentTemperatureHigh = data.daily.data[i].apparentTemperatureHigh.toFixed(1) + "&deg;C";
				var dailyapparentTemperatureLow = data.daily.data[i].apparentTemperatureLow.toFixed(1) + "&deg;C";
				var dailyapparentTemperatureHighTime = moment.unix(data.daily.data[i].apparentTemperatureHighTime).format('HH:mm');
				var dailyapparentTemperatureLowTime = moment.unix(data.daily.data[i].apparentTemperatureLowTime).format('HH:mm');

				// var dailyapparentTemperatureMax = data.daily.data[i].temperatureHigh.toFixed(1) + "&deg;C";
				// var dailyapparentTemperatureMin = data.daily.data[i].temperatureLow.toFixed(1) + "&deg;C";
				// var dailyapparentTemperatureMaxTime = moment.unix(data.daily.data[i].apparentTemperatureHighTime).format('HH:mm');
				// var dailyapparentTemperatureMinTime = moment.unix(data.daily.data[i].apparentTemperatureLowTime).format('HH:mm');
				
				var dailysunrise = moment.unix(data.daily.data[i].sunriseTime).format('HH:mm');
				var dailysunset = moment.unix(data.daily.data[i].sunsetTime).format('HH:mm');

				
				
				// console.log(dailytemp);
				
				// console.log(dailytime);    
				// console.log(data.daily.data[i]);
				$("#lvivsumdailydown").after(
					'<div class="row1">' + 
					'<span>' + dailytime + '</span>' + 
					'<canvas width="128" height="128" id="daysumicon'+y+'">' +'xxx' + '</canvas>' +
					'<span>' +dailysum+ '</span>' + 
					'</div>' +
					'<div class="row2">' +
							'<div>' +
					'<span>sunrise<br>- '+ dailysunrise + '</span>' +
					'<span>sunset<br>- '+ dailysunset + '</span>' + 
					'</div>' +	
					'<div>' +
					'<span>tempHigh<br>'+ dailytemperatureHigh + '</span>' +
					'<span> - '+ dailytemperatureHighTime + '</span>' +
					'<span>tempLow<br>'+ dailytemperatureLow + '</span>' +
					'<span> - '+ dailytemperatureLowTime + '</span>' +
					'</div>' +
					'<div>' +
					'<span>apparentTempHigh<br>'+ dailyapparentTemperatureHigh + '</span>' +
					'<span> - '+ dailyapparentTemperatureHighTime + '</span>' +
					'<span>apparentTempLow<br>'+ dailyapparentTemperatureLow + '</span>' +
					'<span> - '+ dailyapparentTemperatureLowTime + '</span>' +
					'</div>' +
					'<div>' +
					'<span>moonPhase<br>- '+ daymoonPhase + '</span>' +
					'<span>visibility<br>- '+ dayvisibility + '</span>' +
					'<span>pressure<br>- '+ daypressure + '</span>' +
					'</div>' +
					'<div>' +

					'<span>cloudCover<br>- '+ daycloudCover + '</span>' +
					'<span>humidity<br>- '+ dayhumidity + '</span>' +
					'<span>dewPoint<br>- '+ daydewPoint + '</span>' +
					'</div>' +
					'<div>' +
					'<span>ozone<br>- '+ dayozone + '</span>' +
					'<span>uvIndex<br> - '+ dayuvIndex + '</span>' +
					'<span> - '+ dayuvIndexTime + '</span>' +
					'</div>' +
					'<div class="precip">' +
					'<span>precipProbability<br>- '+ dayprecipProbability + '</span>' +
					'<span> - '+ dayprecipIntensityMaxTime + '</span>' +
					'<span> - '+ dayprecipType + '</span>' +
					'</div>' +
					'</div>');
				var dayskycons = new Skycons({"color": "white"});
		  	dayskycons.add("daysumicon"+y, daysumicon);
		  	dayskycons.play();
			}
		  
			
			
		
		  
		  $("#lvivcity").html(data.timezone);
			// lvivtemp=data.currently.temperature.toFixed(1);
		  $("#lvivtemp").html(data.currently.temperature.toFixed(1) + "&deg;C");
		  $("#lvivtempapp").html(data.currently.apparentTemperature.toFixed(1) + "&deg;C");
		  $("#lvivtime").text(moment.unix(data.currently.time).format('HH:mm:ss'));
		  $("#lvivsum").html(data.currently.summary);
		  $("#lvivsumhr").html(data.hourly.summary);
		  $("#lvivsumdaily").html(data.daily.summary);
		//sym.$("lvivicon"). html('<canvas id="lvivicon" width="50" height="50"></canvas>');
		  var skyconslvivicon = new Skycons({"color": "white"});
		  skyconslvivicon.add("lvivicon", lvivicon);
		  skyconslvivicon.play();
		  var skyconslvivsumicon = new Skycons({"color": "white"});
		  skyconslvivsumicon.add("lvivsumicon", lvivsumicon);
		  skyconslvivsumicon.play();
		 
			});
		 });
}
weather_get();
});

		
		
		</script>
	
	
	
	</body>
	</html>